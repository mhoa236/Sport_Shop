<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>ÄÄƒng nháº­p - Sports Shop</title>
  <base href="./">
  <link rel="stylesheet" href="assets/base.css">
  <style>
    .auth-wrap{max-width:420px;margin:24px auto;padding:24px;background:#fff;border:1px solid var(--bd);border-radius:16px}
    .auth-wrap h1{margin-bottom:12px}
    .form-group{margin:10px 0}
    .form-group label{display:block;font-weight:600;margin-bottom:6px}
    .form-group input{width:100%;padding:10px;border:1px solid var(--bd);border-radius:10px;background:#fff}
    .muted{color:#666;font-size:13px}
  </style>
</head>
<body>
  <!-- Header Ä‘á»“ng bá»™ -->
  <header>
  <a href="index.html"><strong>ğŸª Sports Shop</strong></a>

  <nav>
    <a href="sports.html">Bá»™ mÃ´n</a>
    <a href="sale.html">Giáº£m giÃ¡</a>
    <a id="navAdmin" href="admin-products.html" style="display:none">Admin</a>
  </nav>

  <div class="header-right">
    <!-- thanh tÃ¬m kiáº¿m -->
    <form class="search" action="search.html" method="get">
      <input name="q" placeholder="TÃ¬m kiáº¿m sáº£n pháº©m...">
      <button type="submit">TÃ¬m</button>
    </form>

    <!-- Dropdown tÃ i khoáº£n -->
    <div class="account-wrap">
      <button id="accountBtn" class="icon-btn" aria-haspopup="menu" aria-expanded="false" aria-label="TÃ i khoáº£n">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path stroke="currentColor" stroke-width="1.6"
                d="M20 21a8 8 0 1 0-16 0m8-9a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z"/>
        </svg>
      </button>

      <div class="account-menu">
        <!-- tráº¡ng thÃ¡i Ä‘Äƒng nháº­p sáº½ Ä‘iá»u khiá»ƒn áº©n/hiá»‡n máº¥y dÃ²ng dÆ°á»›i -->
        <a class="account-item" href="account.html">Trang cÃ¡ nhÃ¢n</a>
        <a class="account-item" href="cart.html">Giá» hÃ ng <span id="cartCount" class="badge-num">0</span></a>
        <a class="account-item" href="wishlist.html">Wishlist <span id="wishCount" class="badge-num">0</span></a>
        <div class="hr"></div>
        <a id="loginItem" class="account-item" href="login.html">ÄÄƒng nháº­p</a>
        <a id="registerItem" class="account-item" href="register.html">ÄÄƒng kÃ½</a>
        <a id="logoutItem" class="account-item" href="#">ÄÄƒng xuáº¥t</a>
      </div>
    </div>
  </div>
</header>


  <div class="container">
    <div class="auth-wrap">
      <h1>ÄÄƒng nháº­p</h1>
      <p class="muted">Máº¹o: dÃ¹ng email chá»©a <strong>admin@</strong> Ä‘á»ƒ vÃ o cháº¿ Ä‘á»™ quáº£n trá»‹.</p>

      <form id="loginForm" autocomplete="on">
        <div class="form-group">
          <label>Email</label>
          <input type="email" name="email" placeholder="you@example.com" required>
        </div>
        <div class="form-group">
          <label>Máº­t kháº©u</label>
          <input type="password" name="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
        </div>
        <button class="ghost" type="submit" style="width:100%;margin-top:8px">ÄÄƒng nháº­p</button>
      </form>

      <p class="muted" style="margin-top:10px">ChÆ°a cÃ³ tÃ i khoáº£n?
        <a href="register.html">ÄÄƒng kÃ½</a> â€¢ <a href="forgot-password.html">QuÃªn máº­t kháº©u</a>
      </p>
    </div>
  </div>

  <footer>Â© 2025 Sports Shop â€” <a href="policy-contact.html">ChÃ­nh sÃ¡ch & LiÃªn há»‡</a></footer>

  <script src="assets/app.js"></script>
  <script>
    // ====== Xá»­ lÃ½ Ä‘Äƒng nháº­p ======
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.getElementById('loginForm');
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        const email = form.email.value.trim();
        const pass  = form.password.value.trim();

        // Demo: check trá»‘ng lÃ  Ä‘á»§. Thá»±c táº¿ thÃ¬ gá»i API / kiá»ƒm tra DB.
        if (!email || !pass) { alert('Vui lÃ²ng nháº­p Ä‘á»§ email & máº­t kháº©u'); return; }

        // Tá»± set role: email chá»©a "admin@" -> admin
        const role = email.includes('admin@') ? 'admin' : 'user';
        const name = email.split('@')[0];

        const user = { email, role, name };
        localStorage.setItem('auth_user', JSON.stringify(user));

        // Khá»Ÿi táº¡o giá» / wishlist náº¿u chÆ°a cÃ³ (demo)
        if (!localStorage.getItem('cart'))     localStorage.setItem('cart', '[]');
        if (!localStorage.getItem('wishlist')) localStorage.setItem('wishlist', '[]');

        alert(`ÄÄƒng nháº­p thÃ nh cÃ´ng (${role}).`);
        // Admin -> Ä‘áº¿n trang admin; user -> quay vá» trang trÆ°á»›c/Trang chá»§
        if (role === 'admin') location.href = 'admin-products.html';
        else location.href = document.referrer && !document.referrer.includes('login.html')
                              ? document.referrer : 'index.html';
      });
    });
  </script>
</body>
</html>
